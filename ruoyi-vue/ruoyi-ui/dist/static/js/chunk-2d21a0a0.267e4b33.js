(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a0a0"],{ba8c:function(e,r,t){"use strict";t.r(r);var l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[t("el-form-item",{attrs:{label:"订单号",prop:"orderNo"}},[t("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.orderNo,callback:function(r){e.$set(e.queryParams,"orderNo",r)},expression:"queryParams.orderNo"}})],1),t("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[t("el-select",{attrs:{placeholder:"请选择订单状态",clearable:"",size:"small"},model:{value:e.queryParams.orderStatus,callback:function(r){e.$set(e.queryParams,"orderStatus",r)},expression:"queryParams.orderStatus"}},e._l(e.dict.type.order_status,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[t("el-select",{attrs:{placeholder:"请选择订单类型",clearable:"",size:"small"},model:{value:e.queryParams.orderType,callback:function(r){e.$set(e.queryParams,"orderType",r)},expression:"queryParams.orderType"}},e._l(e.dict.type.order_type,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"收件人",prop:"receiverName"}},[t("el-input",{attrs:{placeholder:"请输入收件人",clearable:"",size:"small"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.receiverName,callback:function(r){e.$set(e.queryParams,"receiverName",r)},expression:"queryParams.receiverName"}})],1),t("el-form-item",{attrs:{label:"收件人电话",prop:"receiverMobile"}},[t("el-input",{attrs:{placeholder:"请输入收件人电话",clearable:"",size:"small"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleQuery(r)}},model:{value:e.queryParams.receiverMobile,callback:function(r){e.$set(e.queryParams,"receiverMobile",r)},expression:"queryParams.receiverMobile"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),t("el-row",{staticClass:"mb8",attrs:{gutter:10}},[t("el-col",{attrs:{span:1.5}},[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:edit"],expression:"['car:orderInfo:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),t("el-col",{attrs:{span:1.5}},[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:remove"],expression:"['car:orderInfo:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),t("el-col",{attrs:{span:1.5}},[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:export"],expression:"['car:orderInfo:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),t("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(r){e.showSearch=r},"update:show-search":function(r){e.showSearch=r},queryTable:e.getList}})],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderInfoList},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{label:"订单号",align:"center",prop:"orderNo"}}),t("el-table-column",{attrs:{label:"总价格",align:"center",prop:"totalPrice"}}),t("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("dict-tag",{attrs:{options:e.dict.type.order_status,value:r.row.orderStatus}})]}}])}),t("el-table-column",{attrs:{label:"收件人",align:"center",prop:"receiverName"}}),t("el-table-column",{attrs:{label:"收件人电话",align:"center",prop:"receiverMobile"}}),t("el-table-column",{attrs:{label:"物流单号",align:"center",prop:"logicNumber"}}),t("el-table-column",{attrs:{label:"订单类型",align:"center",prop:"orderType"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("dict-tag",{attrs:{options:e.dict.type.order_type,value:r.row.orderType}})]}}])}),t("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",[e._v(e._s(e.parseTime(r.row.createTime,"{y}-{m}-{d}")))])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:query"],expression:"['car:orderInfo:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(t){return e.handleDetail(r.row)}}},[e._v("详情")]),t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:edit"],expression:"['car:orderInfo:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleUpdate(r.row)}}},[e._v("修改")]),t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["car:orderInfo:remove"],expression:"['car:orderInfo:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(r.row)}}},[e._v("删除")])]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(r){return e.$set(e.queryParams,"pageNum",r)},"update:limit":function(r){return e.$set(e.queryParams,"pageSize",r)},pagination:e.getList}}),t("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(r){e.open=r}}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"订单号",prop:"orderNo"}},[t("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.form.orderNo,callback:function(r){e.$set(e.form,"orderNo",r)},expression:"form.orderNo"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[t("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(r){e.$set(e.form,"userId",r)},expression:"form.userId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"总价格",prop:"totalPrice"}},[t("el-input",{attrs:{placeholder:"请输入总价格"},model:{value:e.form.totalPrice,callback:function(r){e.$set(e.form,"totalPrice",r)},expression:"form.totalPrice"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[t("el-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.form.orderStatus,callback:function(r){e.$set(e.form,"orderStatus",r)},expression:"form.orderStatus"}},e._l(e.dict.type.order_status,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:parseInt(e.value)}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"收件人",prop:"receiverName"}},[t("el-input",{attrs:{placeholder:"请输入收件人"},model:{value:e.form.receiverName,callback:function(r){e.$set(e.form,"receiverName",r)},expression:"form.receiverName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"收件人电话",prop:"receiverMobile"}},[t("el-input",{attrs:{placeholder:"请输入收件人电话"},model:{value:e.form.receiverMobile,callback:function(r){e.$set(e.form,"receiverMobile",r)},expression:"form.receiverMobile"}})],1)],1)],1),t("el-form-item",{attrs:{label:"收件人地址",prop:"receiverAddress"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入收件人地址"},model:{value:e.form.receiverAddress,callback:function(r){e.$set(e.form,"receiverAddress",r)},expression:"form.receiverAddress"}})],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"物流单号",prop:"logicNumber"}},[t("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logicNumber,callback:function(r){e.$set(e.form,"logicNumber",r)},expression:"form.logicNumber"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[t("el-select",{attrs:{placeholder:"请选择订单类型"},model:{value:e.form.orderType,callback:function(r){e.$set(e.form,"orderType",r)},expression:"form.orderType"}},e._l(e.dict.type.order_type,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:parseInt(e.value)}})})),1)],1)],1)],1),2===e.form.orderType?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"超商店舖編號",prop:"cvsStoreID"}},[t("el-input",{attrs:{placeholder:"请输入超商店舖編號"},model:{value:e.form.cvsStoreID,callback:function(r){e.$set(e.form,"cvsStoreID",r)},expression:"form.cvsStoreID"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"超商店舖名稱",prop:"cvsStoreName"}},[t("el-input",{attrs:{placeholder:"请输入超商店舖名稱"},model:{value:e.form.cvsStoreName,callback:function(r){e.$set(e.form,"cvsStoreName",r)},expression:"form.cvsStoreName"}})],1)],1)],1):e._e(),2===e.form.orderType?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"超商店舖地址",prop:"cvsAddress"}},[t("el-input",{attrs:{placeholder:"请输入超商店舖地址"},model:{value:e.form.cvsAddress,callback:function(r){e.$set(e.form,"cvsAddress",r)},expression:"form.cvsAddress"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"超商店舖電話",prop:"cvsTelephone"}},[t("el-input",{attrs:{placeholder:"请输入超商店舖電話"},model:{value:e.form.cvsTelephone,callback:function(r){e.$set(e.form,"cvsTelephone",r)},expression:"form.cvsTelephone"}})],1)],1)],1):e._e(),2===e.form.orderType?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"是否離島店鋪",prop:"cvsOutSide"}},[t("el-radio-group",{model:{value:e.form.cvsOutSide,callback:function(r){e.$set(e.form,"cvsOutSide",r)},expression:"form.cvsOutSide"}},[t("el-radio",{attrs:{label:0}},[e._v("本島")]),t("el-radio",{attrs:{label:1}},[e._v("離島")])],1)],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),t("el-dialog",{attrs:{title:"订单详情",visible:e.detailOpen,width:"1000px","append-to-body":""},on:{"update:visible":function(r){e.detailOpen=r}}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("订单基本信息")])]),t("el-descriptions",{attrs:{column:1,border:""}},[t("el-descriptions-item",{attrs:{label:"订单号"}},[e._v(e._s(e.orderDetail.orderNo))]),t("el-descriptions-item",{attrs:{label:"用户ID"}},[e._v(e._s(e.orderDetail.userId))]),t("el-descriptions-item",{attrs:{label:"总价格"}},[e._v("¥"+e._s(e.orderDetail.totalPrice))]),t("el-descriptions-item",{attrs:{label:"订单状态"}},[t("dict-tag",{attrs:{options:e.dict.type.order_status,value:e.orderDetail.orderStatus}})],1),t("el-descriptions-item",{attrs:{label:"订单类型"}},[t("dict-tag",{attrs:{options:e.dict.type.order_type,value:e.orderDetail.orderType}})],1),t("el-descriptions-item",{attrs:{label:"创建时间"}},[e._v(e._s(e.parseTime(e.orderDetail.createTime)))])],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("收货信息")])]),t("el-descriptions",{attrs:{column:1,border:""}},[t("el-descriptions-item",{attrs:{label:"收件人"}},[e._v(e._s(e.orderDetail.receiverName))]),t("el-descriptions-item",{attrs:{label:"收件人电话"}},[e._v(e._s(e.orderDetail.receiverMobile))]),t("el-descriptions-item",{attrs:{label:"收件人地址",span:2}},[e._v(e._s(e.orderDetail.receiverAddress))]),t("el-descriptions-item",{attrs:{label:"物流单号"}},[e._v(e._s(e.orderDetail.logicNumber||"暂无"))])],1)],1)],1)],1),2===e.orderDetail.orderType?t("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("超商取货信息")])]),t("el-descriptions",{attrs:{column:2,border:""}},[t("el-descriptions-item",{attrs:{label:"超商店舖編號"}},[e._v(e._s(e.orderDetail.cvsStoreID))]),t("el-descriptions-item",{attrs:{label:"超商店舖名稱"}},[e._v(e._s(e.orderDetail.cvsStoreName))]),t("el-descriptions-item",{attrs:{label:"超商店舖地址",span:2}},[e._v(e._s(e.orderDetail.cvsAddress))]),t("el-descriptions-item",{attrs:{label:"超商店舖電話"}},[e._v(e._s(e.orderDetail.cvsTelephone))]),t("el-descriptions-item",{attrs:{label:"是否離島店鋪"}},[t("el-tag",{attrs:{type:1===e.orderDetail.cvsOutSide?"warning":"success"}},[e._v(" "+e._s(1===e.orderDetail.cvsOutSide?"離島":"本島")+" ")])],1)],1)],1)],1)],1):e._e(),t("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("订单商品详情")])]),t("el-table",{attrs:{data:e.orderDetailList,border:""}},[t("el-table-column",{attrs:{label:"产品ID",align:"center",prop:"productId"}}),t("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"productName"}}),t("el-table-column",{attrs:{label:"产品数量",align:"center",prop:"productAmount"}}),t("el-table-column",{attrs:{label:"单价",align:"center",prop:"productPrice"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" ¥"+e._s(r.row.productPrice)+" ")]}}])}),t("el-table-column",{attrs:{label:"总价",align:"center",prop:"totalPrice"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" ¥"+e._s(r.row.totalPrice)+" ")]}}])})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.detailOpen=!1}}},[e._v("关 闭")])],1)],1)],1)},a=[],o=t("5530"),s=(t("d81d"),t("d3b7"),t("0643"),t("a573"),t("b775"));function i(e){return Object(s["a"])({url:"/car/orderInfo/list",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/car/orderInfo/"+e,method:"get"})}function c(e){return Object(s["a"])({url:"/car/orderInfo",method:"post",data:e})}function d(e){return Object(s["a"])({url:"/car/orderInfo",method:"put",data:e})}function u(e){return Object(s["a"])({url:"/car/orderInfo/"+e,method:"delete"})}function p(e){return Object(s["a"])({url:"/car/orderDetail/list",method:"get",params:e})}var m={name:"OrderInfo",dicts:["order_status","order_type"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderInfoList:[],title:"",open:!1,detailOpen:!1,orderDetail:{},orderDetailList:[],queryParams:{pageNum:1,pageSize:10,orderNo:null,userId:null,orderStatus:null,orderType:null,receiverName:null,receiverMobile:null},form:{},rules:{orderNo:[{required:!0,message:"订单号不能为空",trigger:"blur"}],userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],orderStatus:[{required:!0,message:"订单状态不能为空",trigger:"change"}],orderType:[{required:!0,message:"订单类型不能为空",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(r){e.orderInfoList=r.rows,e.total=r.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderNo:null,userId:null,totalPrice:null,delFlag:null,createTime:null,showOrder:null,orderStatus:null,receiverAddress:null,receiverName:null,receiverMobile:null,logicNumber:null,orderType:1,cvsStoreID:null,cvsStoreName:null,cvsAddress:null,cvsTelephone:null,cvsOutSide:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单信息"},handleUpdate:function(e){var r=this;this.reset();var t=e.id||this.ids;n(t).then((function(e){r.form=e.data,r.open=!0,r.title="修改订单信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(r){r&&(null!=e.form.id?d(e.form).then((function(r){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):c(e.form).then((function(r){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var r=this,t=e.id||this.ids;this.$modal.confirm('是否确认删除订单信息编号为"'+t+'"的数据项？').then((function(){return u(t)})).then((function(){r.getList(),r.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("car/orderInfo/export",Object(o["a"])({},this.queryParams),"orderInfo_".concat((new Date).getTime(),".xlsx"))},handleDetail:function(e){var r=this;this.orderDetail=e,this.detailOpen=!0,p({orderId:e.id}).then((function(e){r.orderDetailList=e.rows}))}}},f=m,v=t("2877"),b=Object(v["a"])(f,l,a,!1,null,null,null);r["default"]=b.exports}}]);