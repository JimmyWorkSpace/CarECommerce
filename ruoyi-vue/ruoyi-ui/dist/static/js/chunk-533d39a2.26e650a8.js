(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-533d39a2"],{"55aa":function(e,t,l){"use strict";l.r(t);var r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"公司",prop:"companyId"}},[l("el-select",{attrs:{placeholder:"请选择公司",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.companyId,callback:function(t){e.$set(e.queryParams,"companyId",t)},expression:"queryParams.companyId"}},e._l(e.companys,(function(t){return l("el-option",{key:t.id,attrs:{value:t.id,label:t.shortName}},[e._v(e._s(t.shortName))])})),1)],1),l("el-form-item",{attrs:{label:"年份",prop:"year"}},[l("el-select",{attrs:{placeholder:"请选择年份",size:"small"},model:{value:e.queryParams.year,callback:function(t){e.$set(e.queryParams,"year",t)},expression:"queryParams.year"}},e._l(e.years,(function(t){return l("el-option",{key:t.year,attrs:{value:t.year}},[e._v(e._s(t.year))])})),1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-row",{staticClass:"mb8",staticStyle:{display:"none"},attrs:{gutter:10}},[l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["company:companyReportDetail:add"],expression:"['company:companyReportDetail:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["company:companyReportDetail:edit"],expression:"['company:companyReportDetail:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["company:companyReportDetail:remove"],expression:"['company:companyReportDetail:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["company:companyReportDetail:export"],expression:"['company:companyReportDetail:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),l("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyReportDetailList},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{label:"排名",align:"center",width:"80",prop:"paiming"}}),l("el-table-column",{attrs:{label:"公司",align:"left",width:"100",prop:"companyName"}}),l("el-table-column",{attrs:{label:"年份",align:"center",prop:"year"}}),l("el-table-column",{attrs:{label:"综合分值",align:"center",prop:"zhfz"}}),l("el-table-column",{attrs:{label:"净资产收益率",align:"center",prop:"jzcsyl"}}),l("el-table-column",{attrs:{label:"销售净利润率",align:"center",prop:"xsjlrl"}}),l("el-table-column",{attrs:{label:"资产净利润率",align:"center",prop:"zcjlrl"}}),l("el-table-column",{attrs:{label:"净资产报酬率",align:"center",prop:"jzcbcl"}}),l("el-table-column",{attrs:{label:"资产保值增值率",align:"center",prop:"zcbzzzl"}}),l("el-table-column",{attrs:{label:"总资产增长率",align:"center",prop:"zzczzl"}}),l("el-table-column",{attrs:{label:"净资产增长率",align:"center",prop:"jzczzl"}}),l("el-table-column",{attrs:{label:"总资产周转率",align:"center",prop:"zzczhzl"}}),l("el-table-column",{attrs:{label:"全员经济生产率",align:"center",prop:"qyjjscl"}}),l("el-table-column",{attrs:{label:"销售收入增长率",align:"center",prop:"xssrzzl"}}),l("el-table-column",{attrs:{label:"营业利润增长率",align:"center",prop:"yelrzzl"}}),l("el-table-column",{attrs:{label:"外部收入增长率",align:"center",prop:"wbsrzzl"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"公司ID",prop:"companyId"}},[l("el-input",{attrs:{placeholder:"请输入公司ID"},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}})],1),l("el-form-item",{attrs:{label:"年份",prop:"year"}},[l("el-input",{attrs:{placeholder:"请输入年份"},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),l("el-form-item",{attrs:{label:"综合分值",prop:"zhfz"}},[l("el-input",{attrs:{placeholder:"请输入综合分值"},model:{value:e.form.zhfz,callback:function(t){e.$set(e.form,"zhfz",t)},expression:"form.zhfz"}})],1),l("el-form-item",{attrs:{label:"净资产收益率",prop:"jzcsyl"}},[l("el-input",{attrs:{placeholder:"请输入净资产收益率"},model:{value:e.form.jzcsyl,callback:function(t){e.$set(e.form,"jzcsyl",t)},expression:"form.jzcsyl"}})],1),l("el-form-item",{attrs:{label:"销售净利润率",prop:"xsjlrl"}},[l("el-input",{attrs:{placeholder:"请输入销售净利润率"},model:{value:e.form.xsjlrl,callback:function(t){e.$set(e.form,"xsjlrl",t)},expression:"form.xsjlrl"}})],1),l("el-form-item",{attrs:{label:"资产净利润率",prop:"zcjlrl"}},[l("el-input",{attrs:{placeholder:"请输入资产净利润率"},model:{value:e.form.zcjlrl,callback:function(t){e.$set(e.form,"zcjlrl",t)},expression:"form.zcjlrl"}})],1),l("el-form-item",{attrs:{label:"净资产报酬率",prop:"jzcbcl"}},[l("el-input",{attrs:{placeholder:"请输入净资产报酬率"},model:{value:e.form.jzcbcl,callback:function(t){e.$set(e.form,"jzcbcl",t)},expression:"form.jzcbcl"}})],1),l("el-form-item",{attrs:{label:"外部收入占比",prop:"wbsrzb"}},[l("el-input",{attrs:{placeholder:"请输入外部收入占比"},model:{value:e.form.wbsrzb,callback:function(t){e.$set(e.form,"wbsrzb",t)},expression:"form.wbsrzb"}})],1),l("el-form-item",{attrs:{label:"资产保值增值率",prop:"zcbzzzl"}},[l("el-input",{attrs:{placeholder:"请输入资产保值增值率"},model:{value:e.form.zcbzzzl,callback:function(t){e.$set(e.form,"zcbzzzl",t)},expression:"form.zcbzzzl"}})],1),l("el-form-item",{attrs:{label:"总资产增长率",prop:"zzczzl"}},[l("el-input",{attrs:{placeholder:"请输入总资产增长率"},model:{value:e.form.zzczzl,callback:function(t){e.$set(e.form,"zzczzl",t)},expression:"form.zzczzl"}})],1),l("el-form-item",{attrs:{label:"净资产增长率",prop:"jzczzl"}},[l("el-input",{attrs:{placeholder:"请输入净资产增长率"},model:{value:e.form.jzczzl,callback:function(t){e.$set(e.form,"jzczzl",t)},expression:"form.jzczzl"}})],1),l("el-form-item",{attrs:{label:"总资产周转率",prop:"zzczhzl"}},[l("el-input",{attrs:{placeholder:"请输入总资产周转率"},model:{value:e.form.zzczhzl,callback:function(t){e.$set(e.form,"zzczhzl",t)},expression:"form.zzczhzl"}})],1),l("el-form-item",{attrs:{label:"全员劳动生产率",prop:"qyldscl"}},[l("el-input",{attrs:{placeholder:"请输入全员劳动生产率"},model:{value:e.form.qyldscl,callback:function(t){e.$set(e.form,"qyldscl",t)},expression:"form.qyldscl"}})],1),l("el-form-item",{attrs:{label:"全员经济生产率",prop:"qyjjscl"}},[l("el-input",{attrs:{placeholder:"请输入全员经济生产率"},model:{value:e.form.qyjjscl,callback:function(t){e.$set(e.form,"qyjjscl",t)},expression:"form.qyjjscl"}})],1),l("el-form-item",{attrs:{label:"销售收入增长率",prop:"xssrzzl"}},[l("el-input",{attrs:{placeholder:"请输入销售收入增长率"},model:{value:e.form.xssrzzl,callback:function(t){e.$set(e.form,"xssrzzl",t)},expression:"form.xssrzzl"}})],1),l("el-form-item",{attrs:{label:"营业利润增长率",prop:"yelrzzl"}},[l("el-input",{attrs:{placeholder:"请输入营业利润增长率"},model:{value:e.form.yelrzzl,callback:function(t){e.$set(e.form,"yelrzzl",t)},expression:"form.yelrzzl"}})],1),l("el-form-item",{attrs:{label:"纳税额增长率",prop:"nsezzl"}},[l("el-input",{attrs:{placeholder:"请输入纳税额增长率"},model:{value:e.form.nsezzl,callback:function(t){e.$set(e.form,"nsezzl",t)},expression:"form.nsezzl"}})],1),l("el-form-item",{attrs:{label:"外部收入增长率",prop:"wbsrzzl"}},[l("el-input",{attrs:{placeholder:"请输入外部收入增长率"},model:{value:e.form.wbsrzzl,callback:function(t){e.$set(e.form,"wbsrzzl",t)},expression:"form.wbsrzzl"}})],1),l("el-form-item",{attrs:{label:"外部收入增长率",prop:"showIndex"}},[l("el-input",{attrs:{placeholder:"请输入外部收入增长率"},model:{value:e.form.showIndex,callback:function(t){e.$set(e.form,"showIndex",t)},expression:"form.showIndex"}})],1),l("el-form-item",{attrs:{label:"外部收入增长率",prop:"delFlag"}},[l("el-input",{attrs:{placeholder:"请输入外部收入增长率"},model:{value:e.form.delFlag,callback:function(t){e.$set(e.form,"delFlag",t)},expression:"form.delFlag"}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),l("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},a=[],n=l("c14f"),o=l("1da1"),i=(l("d81d"),l("d3b7"),l("0643"),l("a573"),l("b775"));function c(e){return Object(i["a"])({url:"/company/companyReportDetail/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/company/companyReportDetail/"+e,method:"get"})}function p(e){return Object(i["a"])({url:"/company/companyReportDetail",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/company/companyReportDetail",method:"put",data:e})}function m(e){return Object(i["a"])({url:"/company/companyReportDetail/"+e,method:"delete"})}function d(e){return Object(i["a"])({url:"/company/companyReportDetail/export",method:"get",params:e})}var f=l("a6fc"),z={name:"CompanyReportDetail",components:{},data:function(){return{loading:!0,ids:[],years:[],companys:[],single:!0,multiple:!0,showSearch:!0,total:0,companyReportDetailList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:15,companyId:null,year:null,zhfz:null,jzcsyl:null,xsjlrl:null,zcjlrl:null,jzcbcl:null,wbsrzb:null,zcbzzzl:null,zzczzl:null,jzczzl:null,zzczhzl:null,qyldscl:null,qyjjscl:null,xssrzzl:null,yelrzzl:null,nsezzl:null,wbsrzzl:null,showIndex:null,orderBy:"paiming"},form:{},rules:{}}},created:function(){var e=this;return Object(o["a"])(Object(n["a"])().m((function t(){var l,r;return Object(n["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,f["m"](!1);case 1:return l=t.v,e.years=l.data,e.queryParams.year=e.years[0]["year"],t.n=2,f["f"]();case 2:r=t.v,e.companys=r.data.companyList,e.getList();case 3:return t.a(2)}}),t)})))()},methods:{getList:function(){var e=this;this.loading=!0,c(this.queryParams).then((function(t){e.companyReportDetailList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,companyId:null,year:null,zhfz:null,jzcsyl:null,xsjlrl:null,zcjlrl:null,jzcbcl:null,wbsrzb:null,zcbzzzl:null,zzczzl:null,jzczzl:null,zzczhzl:null,qyldscl:null,qyjjscl:null,xssrzzl:null,yelrzzl:null,nsezzl:null,wbsrzzl:null,createTime:null,createBy:null,showIndex:null,delFlag:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加改制企业综合评价明细"},handleUpdate:function(e){var t=this;this.reset();var l=e.id||this.ids;s(l).then((function(e){t.form=e.data,t.open=!0,t.title="修改改制企业综合评价明细"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?u(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):p(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,l=e.id||this.ids;this.$confirm('是否确认删除改制企业综合评价明细编号为"'+l+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(l)})).then((function(){t.getList(),t.msgSuccess("删除成功")}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有改制企业综合评价明细数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)}))}}},h=z,b=l("2877"),y=Object(b["a"])(h,r,a,!1,null,null,null);t["default"]=y.exports},"8a79":function(e,t,l){"use strict";var r=l("23e7"),a=l("e330"),n=l("06cf").f,o=l("50c4"),i=l("577e"),c=l("5a34"),s=l("1d80"),p=l("ab13"),u=l("c430"),m=a("".endsWith),d=a("".slice),f=Math.min,z=p("endsWith"),h=!u&&!z&&!!function(){var e=n(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!z},{endsWith:function(e){var t=i(s(this));c(e);var l=arguments.length>1?arguments[1]:void 0,r=t.length,a=void 0===l?r:f(o(l),r),n=i(e);return m?m(t,n,a):d(t,a-n.length,a)===n}})},a6fc:function(e,t,l){"use strict";l.d(t,"f",(function(){return a})),l.d(t,"j",(function(){return n})),l.d(t,"d",(function(){return o})),l.d(t,"m",(function(){return i})),l.d(t,"i",(function(){return c})),l.d(t,"g",(function(){return s})),l.d(t,"l",(function(){return p})),l.d(t,"e",(function(){return u})),l.d(t,"c",(function(){return m})),l.d(t,"h",(function(){return d})),l.d(t,"k",(function(){return f})),l.d(t,"b",(function(){return z})),l.d(t,"a",(function(){return h}));l("8a79");var r=l("b775");function a(){return Object(r["a"])({url:"/api/report/getCompanySearchOptions",method:"get"})}function n(e){return Object(r["a"])({url:"/api/report/getLastestYearData",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/api/report/getCompanyReportData",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/api/report/getValidYears",method:"get",params:{includeMiddleYear:e}})}function c(e){return Object(r["a"])({url:"/api/report/getDetailLineChart",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/api/report/getDataLineChart",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/api/report/sandian",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/api/report/getCompanyReportDataWithInc",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/api/report/getCompanyDetailDataWithInc",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/api/report/getDetailDataByCompany",method:"get",params:{companyId:e}})}function f(e){return Object(r["a"])({url:"/api/report/getReportDataByCompany",method:"get",params:{companyId:e}})}function z(){return Object(r["a"])({url:"/api/report/colors",method:"get"})}function h(e,t){var l=e.row,r=e.column;if(r&&r.property){l[r.property],l[r.property+"2"];var a=l[r.property+"Inc"];r.property.endsWith("Inc")&&(a=l[r.property]);var n="font-weight: bold;color: #ffffff";if(null!=a){var o=null;for(var i in t){var c=t[i];if(1==c.type&&a>c.level||2==c.type&&a<c.level){o=c.color;break}}for(var s in t){var p=t[s];if(0==p.type&&p.level==a){o=p.color;break}}return null!=o?"background-color: ".concat(o,";")+n:""}}}}}]);