(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3462c65a"],{"00d2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"选择年份",prop:"companyIds"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.year,callback:function(t){e.$set(e.queryParams,"year",t)},expression:"queryParams.year"}},e._l(e.years,(function(e,t){return a("el-option",{key:t,attrs:{label:e.year+"年",value:e.year}})})),1)],1),a("el-form-item",{attrs:{label:"选择企业",prop:"companyIds"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.companySelectedType,callback:function(t){e.companySelectedType=t},expression:"companySelectedType"}},e._l(e.companySearchOptions.fixedGroup,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"other"==e.companySelectedType,expression:"companySelectedType=='other'"}],staticStyle:{"margin-left":"20px"},attrs:{clearable:"","collapse-tags":"",multiple:"",placeholder:"请选择"},model:{value:e.queryParams.companyIds,callback:function(t){e.$set(e.queryParams,"companyIds",t)},expression:"queryParams.companyIds"}},e._l(e.companySearchOptions.companyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shortName,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("div",{attrs:{id:"sandianChart"}})],1)},n=[],o=a("c14f"),c=a("1da1"),i=(a("4de4"),a("d3b7"),a("0643"),a("2382"),a("a6fc")),u=a("313e"),p={name:"CompanyReportSandianData",components:{},data:function(){return{queryParams:{companyIds:[],year:2020},years:[],companySelectedType:"slyt",companySearchOptions:{},sandianData:[],chart:{}}},created:function(){var e=this;return Object(c["a"])(Object(o["a"])().m((function t(){var a,r,n;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return a=e,t.n=1,i["m"](!1);case 1:return r=t.v,a.years=r.data,a.queryParams.year=r.data[0]["year"],t.n=2,i["f"]();case 2:n=t.v,n.data.fixedGroup.push({name:"手动选择",value:"other"}),a.companySearchOptions=n.data,a.queryParams.companyIds=a.companySearchOptions.fixedGroup.filter((function(e){return e.value==a.companySelectedType}))[0]["companyIds"],setTimeout((function(){var e=document.getElementById("sandianChart");a.chart=u["init"](e),a.handleQuery()}));case 3:return t.a(2)}}),t)})))()},watch:{companySelectedType:function(){var e=this;"other"!=e.companySelectedType&&(e.queryParams.companyIds=e.companySearchOptions.fixedGroup.filter((function(t){return t.value==e.companySelectedType}))[0]["companyIds"],console.log("query params company ids change",e.queryParams.companyIds))}},methods:{getCompanySearchOptions:function(){var e=this;i["f"]().then((function(t){e.companySearchOptions=t.data,e.queryParams.companyIds=e.companySearchOptions.fixedGroup.filter((function(t){return t.value==e.companySelectType}))[0]["companyIds"]}))},handleQuery:function(){var e=this;i["l"](this.queryParams).then((function(t){e.sandianData=t.data,e.initChart()}))},initChart:function(){var e={xAxis:{},yAxis:{},series:[{symbolSize:15,data:this.sandianData,type:"scatter",label:{show:!0,formatter:"{@[2]}",position:"top"}}]};this.chart.setOption(e,!0)},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=p,l=(a("4481"),a("2877")),d=Object(l["a"])(s,r,n,!1,null,"1907dcbe",null);t["default"]=d.exports},4481:function(e,t,a){"use strict";a("835d")},"835d":function(e,t,a){},"8a79":function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),o=a("06cf").f,c=a("50c4"),i=a("577e"),u=a("5a34"),p=a("1d80"),s=a("ab13"),l=a("c430"),d=n("".endsWith),m=n("".slice),y=Math.min,f=s("endsWith"),h=!l&&!f&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!f},{endsWith:function(e){var t=i(p(this));u(e);var a=arguments.length>1?arguments[1]:void 0,r=t.length,n=void 0===a?r:y(c(a),r),o=i(e);return d?d(t,o,n):m(t,n-o.length,n)===o}})},a6fc:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"j",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"m",(function(){return i})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"k",(function(){return y})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));a("8a79");var r=a("b775");function n(){return Object(r["a"])({url:"/api/report/getCompanySearchOptions",method:"get"})}function o(e){return Object(r["a"])({url:"/api/report/getLastestYearData",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/api/report/getCompanyReportData",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/api/report/getValidYears",method:"get",params:{includeMiddleYear:e}})}function u(e){return Object(r["a"])({url:"/api/report/getDetailLineChart",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/api/report/getDataLineChart",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/api/report/sandian",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/api/report/getCompanyReportDataWithInc",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/api/report/getCompanyDetailDataWithInc",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/api/report/getDetailDataByCompany",method:"get",params:{companyId:e}})}function y(e){return Object(r["a"])({url:"/api/report/getReportDataByCompany",method:"get",params:{companyId:e}})}function f(){return Object(r["a"])({url:"/api/report/colors",method:"get"})}function h(e,t){var a=e.row,r=e.column;if(r&&r.property){a[r.property],a[r.property+"2"];var n=a[r.property+"Inc"];r.property.endsWith("Inc")&&(n=a[r.property]);var o="font-weight: bold;color: #ffffff";if(null!=n){var c=null;for(var i in t){var u=t[i];if(1==u.type&&n>u.level||2==u.type&&n<u.level){c=u.color;break}}for(var p in t){var s=t[p];if(0==s.type&&s.level==n){c=s.color;break}}return null!=c?"background-color: ".concat(c,";")+o:""}}}}}]);