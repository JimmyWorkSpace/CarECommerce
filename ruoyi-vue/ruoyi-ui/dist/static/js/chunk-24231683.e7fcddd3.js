(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24231683"],{1754:function(e,t,a){},"41d1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"选择年份"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.yearq,callback:function(t){e.$set(e.queryParams,"yearq",t)},expression:"queryParams.yearq"}},e._l(e.years,(function(e,t){return a("el-option",{key:t,attrs:{label:e.year+"年 - "+(e.middleYear?"半年":"全年"),value:e.year+","+(e.middleYear?"1":"0")}})})),1)],1),a("el-form-item",{attrs:{label:"选择企业"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.companySelectedType,callback:function(t){e.companySelectedType=t},expression:"companySelectedType"}},e._l(e.companySearchOptions.fixedGroup,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"手动选择"}},[a("el-popover",{attrs:{width:"800",trigger:"click"}},[a("div",[a("div",{staticStyle:{"text-align":"right"}},[a("el-link",{attrs:{type:"primary"},on:{click:e.clearShow}},[e._v("清除")])],1),a("el-checkbox-group",{model:{value:e.queryParams.companyIds,callback:function(t){e.$set(e.queryParams,"companyIds",t)},expression:"queryParams.companyIds"}},e._l(e.companySearchOptions.companyList,(function(t){return a("el-checkbox",{key:t.id,staticStyle:{width:"16%"},attrs:{label:t.id,value:t.id}},[e._v(e._s(t.shortName))])})),1)],1),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("点击选择")])],1)],1),a("el-form-item",{attrs:{label:"选择项目"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryParams.head,callback:function(t){e.$set(e.queryParams,"head",t)},expression:"queryParams.head"}},e._l(e.heads,(function(e,t){return a("el-option",{key:t,attrs:{label:e.dictLabel,value:e.dictValue}})})),1),a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[a("el-option",{attrs:{label:"大于",value:">"}}),a("el-option",{attrs:{label:"大于等于",value:">="}}),a("el-option",{attrs:{label:"小于等于",value:"<="}}),a("el-option",{attrs:{label:"小于",value:"<"}}),a("el-option",{attrs:{label:"等于",value:"="}}),a("el-option",{attrs:{label:"不等于",value:"!="}})],1),a("el-input-number",{model:{value:e.queryParams.value,callback:function(t){e.$set(e.queryParams,"value",t)},expression:"queryParams.value"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),"jyjcyj"==e.pageType?a("div",[a("div",{staticClass:"title"},[a("div"),a("div",{staticStyle:{"font-size":"24px","font-weight":"400"}},[e._v(e._s(e.current.year)+"年"+e._s(1==e.current.middleYear?"半年":"")+"改制企业"+e._s(e.pageTitle)+"信息")]),a("div",e._l(e.colors,(function(t,r){return a("el-tag",{key:r,staticStyle:{color:"white",margin:"0 2px"},attrs:{color:t.color,hit:!1}},[e._v(" "+e._s((0==t.type?"等于":1==t.type?"大于":"小于")+t.level)+" ")])})),1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,height:"32vw","cell-style":e.cellStyle}},[a("el-table-column",{attrs:{label:"公司名称",align:"center",width:"150",prop:"shortName"}}),a("el-table-column",{attrs:{label:"职工队伍结构",align:"center"}},[a("el-table-column",{attrs:{label:"职工总数",align:"center",prop:"zgzs"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"zgzsInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"改制职工月末人数",align:"center",prop:"gzzg"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"gzzgInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"安置油田子女人数",align:"center",prop:"azzn"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"azznInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"安置协解职工人数",align:"center",prop:"azzg"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"azzgInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"自行招聘人数",align:"center",prop:"zxzp"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"zxzpInc",formatter:e.incFormatter}})],1),a("el-table-column",{attrs:{label:"改制职工退休人数",align:"center",prop:"gztx"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"gztxInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"资产结构",align:"center"}},[a("el-table-column",{attrs:{label:"月末总资产",align:"center",prop:"ymzzc"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"ymzzcInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"月末净资产",align:"center",prop:"ymjzc"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"ymjzcInc",formatter:e.incFormatter}})],1),a("el-table-column",{attrs:{label:"收入结构",align:"center"}},[a("el-table-column",{attrs:{label:"油田内部市场收入",align:"center",prop:"nbsr"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"nbsrInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"外部市场收入",align:"center",prop:"wbsr"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"wbsrInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"改制企业之间收入",align:"center",prop:"qyjsr"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"qyjsrInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"国际市场收入",align:"center",prop:"gjsr"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"gjsrInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"当年合计",align:"center",prop:"dnhj"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"dnhjInc",formatter:e.incFormatter}})],1),a("el-table-column",{attrs:{label:"利税情况",align:"center"}},[a("el-table-column",{attrs:{label:"当年利润累计",align:"center",prop:"dnlr"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"dnlrInc",formatter:e.incFormatter}}),a("el-table-column",{attrs:{label:"当年已交税金累计",align:"center",prop:"dnsj"}}),a("el-table-column",{attrs:{label:"同比",align:"center",prop:"dnsjInc",formatter:e.incFormatter}})],1)],1)],1):e._e(),"jyjcyj"!=e.pageType?a("div",[a("div",{staticClass:"title"},[a("div"),a("div",{staticStyle:{"font-size":"24px","font-weight":"400"}},[e._v(e._s(e.current.year)+"年"+e._s(1==e.current.middleYear?"半年":"")+"改制企业"+e._s(e.pageTitle)+"信息")]),a("div",e._l(e.colors,(function(t,r){return a("el-tag",{key:r,staticStyle:{color:"white",margin:"0 2px"},attrs:{color:t.color,hit:!1}},[e._v(" "+e._s((0==t.type?"等于":1==t.type?"大于":"小于")+t.level)+" ")])})),1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,height:"70vh","cell-style":e.cellStyle}},[a("el-table-column",{attrs:{label:"公司名称",align:"center",width:"150",prop:"shortName"}}),e._l(e.heads,(function(e,t){return a("el-table-column",{key:t,attrs:{label:e.columnTitle,align:"center",prop:e.dictValue}})}))],2)],1):e._e()],1)},n=[],l=a("c14f"),c=a("1da1"),o=(a("4de4"),a("b0c0"),a("b680"),a("d3b7"),a("0643"),a("2382"),a("a6fc")),i=(a("313e"),{name:"CompanyReportWithInc",components:{},data:function(){return{queryParams:{companyIds:[],year:2020,middleYear:0,yearq:"",head:null,type:null,value:null},incFields:["zgzsInc","gzzgInc","azznInc","azzgInc","zxzpInc","gztxInc","ymzzcInc","ymjzcInc","nbsrInc","wbsrInc","qyjsrInc","gjsrInc","dnhjInc","dnlrInc","dnsjInc","zhfz_inc","jjxy_inc","jyfz_inc","jzcsyl_inc","xsjlrl_inc","zcjlrl_inc","jzcbcl_inc","wbsrzb_inc","zcbzzzl_inc","zzczzl_inc","jzczzl_inc","zzczhzl_inc","qyldscl_inc","qyjjscl_inc","xssrzzl_inc","yelrzzl_inc","nsezzl_inc","wbsrzzl_inc"],selectedLevel:null,current:{year:null,middleYear:null},pageType:null,level:{},heads:[],years:[],colors:[],companySelectedType:"slyt",companySearchOptions:{},list:[],loading:!1}},created:function(){var e=this;return Object(c["a"])(Object(l["a"])().m((function t(){var a,r,n,c,i,s,u,p,m;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:return a=e,t.n=1,o["b"]();case 1:return r=t.v,a.colors=r.data,t.n=2,o["f"]();case 2:n=t.v,a.companySearchOptions=n.data,a.queryParams.companyIds=a.companySearchOptions.fixedGroup.filter((function(e){return e.value==a.companySelectedType}))[0]["companyIds"],c=null,i=null,s=null,a.pageType=a.$route.name.split("/").pop(),p=a.pageType,t.n="jyjcyj"===p?3:"pjjcyj"===p?6:"jjxyyj"===p?9:"jyfzyj"===p?12:15;break;case 3:return a.queryParams.head="dnhj",a.pageTitle="经营监测",t.n=4,a.getDicts("jyybheads");case 4:return s=t.v,i=s.data,t.n=5,o["m"](!0);case 5:return c=t.v,t.a(3,15);case 6:return a.queryParams.head="zhfz",a.pageTitle="评价监测",t.n=7,a.getDicts("zhheads");case 7:return s=t.v,i=s.data,t.n=8,o["m"](!1);case 8:return c=t.v,t.a(3,15);case 9:return a.pageTitle="经济效益监测",a.queryParams.head="jjxy",t.n=10,a.getDicts("jjxyheads");case 10:return s=t.v,i=s.data,t.n=11,o["m"](!1);case 11:return c=t.v,t.a(3,15);case 12:return a.pageTitle="经营发展监测",a.queryParams.head="jyfz",t.n=13,a.getDicts("jyfzheads");case 13:return s=t.v,i=s.data,t.n=14,o["m"](!1);case 14:return c=t.v,t.a(3,15);case 15:for(a.years=c.data,a.queryParams.yearq=c.data[0]["year"]+","+(c.data[0]["middleYear"]?"1":"0"),u=0;u<i.length;u++)a.heads.push({dictLabel:i[u]["dictLabel"],columnTitle:i[u]["dictLabel"],dictValue:i[u]["dictValue"]}),a.heads.push({dictLabel:i[u]["dictLabel"]+"同比",columnTitle:"同比",dictValue:i[u]["dictValue"]+"Inc"});m=a.pageType,t.n="pjjcyj"===m?16:"jjxyyj"===m?17:"jyfzyj"===m?18:19;break;case 16:return a.heads.unshift({dictLabel:"综合分值",columnTitle:"综合分值",dictValue:"zhfz"}),t.a(3,19);case 17:return a.heads.unshift({dictLabel:"综合分值",columnTitle:"综合分值",dictValue:"jjxy"}),t.a(3,19);case 18:return a.heads.unshift({dictLabel:"综合分值",columnTitle:"综合分值",dictValue:"jyfz"}),t.a(3,19);case 19:a.handleQuery();case 20:return t.a(2)}}),t)})))()},watch:{"queryParams.yearq":function(){this.queryParams.year=this.queryParams.yearq.split(",")[0],this.queryParams.middleYear=1==this.queryParams.yearq.split(",")[1]},companySelectedType:function(){var e=this;"other"!=e.companySelectedType&&(e.queryParams.companyIds=e.companySearchOptions.fixedGroup.filter((function(t){return t.value==e.companySelectedType}))[0]["companyIds"],console.log("query params company ids change",e.queryParams.companyIds))}},methods:{clearShow:function(){this.queryParams.companyIds=[]},incFormatter:function(e,t){var a=e[t.property];return a?(a>0?"+":"")+a.toFixed(2)+"%":a},cellStyle:function(e){return o["a"](e,this.colors)},getCompanySearchOptions:function(){var e=this;o["f"]().then((function(t){e.companySearchOptions=t.data,e.queryParams.companyIds=e.companySearchOptions.fixedGroup.filter((function(t){return t.value==e.companySelectType}))[0]["companyIds"]}))},handleQuery:function(){var e=this;return Object(c["a"])(Object(l["a"])().m((function t(){var a,r;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:if(a=e,r=null,a.current.year=a.queryParams.year,a.current.middleYear=a.queryParams.middleYear,"jyjcyj"!=a.pageType){t.n=2;break}return t.n=1,o["e"](e.queryParams);case 1:r=t.v,t.n=4;break;case 2:return t.n=3,o["c"](e.queryParams);case 3:r=t.v;case 4:a.list=r.data;case 5:return t.a(2)}}),t)})))()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}}),s=i,u=(a("6f80"),a("2877")),p=Object(u["a"])(s,r,n,!1,null,"3b73d076",null);t["default"]=p.exports},"6f80":function(e,t,a){"use strict";a("1754")},"8a79":function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),l=a("06cf").f,c=a("50c4"),o=a("577e"),i=a("5a34"),s=a("1d80"),u=a("ab13"),p=a("c430"),m=n("".endsWith),d=n("".slice),y=Math.min,b=u("endsWith"),f=!p&&!b&&!!function(){var e=l(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!b},{endsWith:function(e){var t=o(s(this));i(e);var a=arguments.length>1?arguments[1]:void 0,r=t.length,n=void 0===a?r:y(c(a),r),l=o(e);return m?m(t,l,n):d(t,n-l.length,n)===l}})},a6fc:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"j",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"m",(function(){return o})),a.d(t,"i",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"l",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"h",(function(){return d})),a.d(t,"k",(function(){return y})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return f}));a("8a79");var r=a("b775");function n(){return Object(r["a"])({url:"/api/report/getCompanySearchOptions",method:"get"})}function l(e){return Object(r["a"])({url:"/api/report/getLastestYearData",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/api/report/getCompanyReportData",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/api/report/getValidYears",method:"get",params:{includeMiddleYear:e}})}function i(e){return Object(r["a"])({url:"/api/report/getDetailLineChart",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/api/report/getDataLineChart",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/api/report/sandian",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/api/report/getCompanyReportDataWithInc",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/api/report/getCompanyDetailDataWithInc",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/api/report/getDetailDataByCompany",method:"get",params:{companyId:e}})}function y(e){return Object(r["a"])({url:"/api/report/getReportDataByCompany",method:"get",params:{companyId:e}})}function b(){return Object(r["a"])({url:"/api/report/colors",method:"get"})}function f(e,t){var a=e.row,r=e.column;if(r&&r.property){a[r.property],a[r.property+"2"];var n=a[r.property+"Inc"];r.property.endsWith("Inc")&&(n=a[r.property]);var l="font-weight: bold;color: #ffffff";if(null!=n){var c=null;for(var o in t){var i=t[o];if(1==i.type&&n>i.level||2==i.type&&n<i.level){c=i.color;break}}for(var s in t){var u=t[s];if(0==u.type&&u.level==n){c=u.color;break}}return null!=c?"background-color: ".concat(c,";")+l:""}}}}}]);